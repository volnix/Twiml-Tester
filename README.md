Twiml-Tester
============

## Basics 

- This tool may be used to test Twiml-based IVR applications.  It works by cURL'ing the initial endpoint entered, parsing the received XML, and presenting a form for data entry.  This tool supports the `<Say>` and `<Gather>` primary verbs as well as the `<Hangup>` and `<Redirect>` secondary verbs.
- The tester's cURL method follows redirects, so it may be used with modern frameworks that frequently perform header redirects in their routing.
- The tester receives POST from a form generated by the tester itself and then POSTs that data to the system being tested.  By doing this, it simulates the statelessness of the Twilio IVR system.
- The First time you get to the IVR tester, you will be prompted to enter the URL of the system you want to test.  After that, the IVR tester will direct you through the system, prompting you for input when the system does.
- To start a new test, use the input box at the top of the IVR tester.
- To get help with more general Twiml questions, consult the [Twiml Documentation](http://www.twilio.com/docs/api/twiml "Twiml Documentation")


## [Say](http://www.twilio.com/docs/api/twiml/say)
The Say verb is the most common verb in Twiml.  It is the verb used to speak to the user.  The IVR tester will display this as plain text.  A say is *required* or the IVR tester will not display anything for the response.

  	<?xml version="1.0" encoding="UTF-8"?>
		<Response>
			<Say voice="man" language="en">This is a say block!  It's not very fancy, but it's a "Say" nonetheless.</Say>
		</Response>


## [Gather](http://www.twilio.com/docs/api/twiml/gather)
The Gather Verb is the verb used to POST/GET input data from the user back to the server.  If a Gather block is encountered, the IVR tester will present a form input with a submit button.  The form input's max-length will be set by the numDigits portion of the Twiml received.

For example,

	<?xml version="1.0" encoding="UTF-8"?>
		<Response>
			<Gather numDigits="6" method="POST" action="https://www.example.org/something">
				<Say voice="man" language="en">Enter in any number.</Say>
			</Gather>
		</Response>
	
will produce the following HTML

	<p>Enter in any number</p>				
	<form method="post" action="index.php">
		<input type="text" maxlength="6"/>
		<button type="submit">Submit</button> 
	</form>


**It sould be noted, "index.php" in the above HTML is the IVR tester file since these posts are being performed by the IVR tester, not the form itself.*

## [Redirect](http://www.twilio.com/docs/api/twiml/redirect)
The Redirect verb is used to redirect the user to another URL.  This does not contain any input handlers, so you may not rely on this for data transmission.  However, it does perform a POST/GET to the new URL, so you may still respond to those accordingly if need-be.  When the IVR tester encounters one of these, it will wait 5 seconds, then re-cURL the redirection point.

For example,

	<?xml version="1.0" encoding="UTF-8"?>
		<Response>
			<Redirect method="POST">https://www.ark.org/something</Redirect>
		</Response>
	
will cause the IVR tester to wait 5 seconds, then cURL `https://www.example.org/something` as a POST.

## [Hangup](http://www.twilio.com/docs/api/twiml/hangup)
The Hangup verb is used to terminate a call.  While just having a `<Say>` block with no gather does the same thing, this is typically preferred as a good practice.  The IVR tester does not respond in any special way to this since the call has just ended.
	
For example,

	<?xml version="1.0" encoding="UTF-8"?>
		<Response>
			<Hangup/>
		</Response>
	
does nothing special.
